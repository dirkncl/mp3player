<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="dirkncl.github.com, mp3 lyrics player ditampilkan di halaman web maupun mobile">
    <meta name="keywords" content="mp3, mp3 player, lyrics, mp3player, player">
    <meta name="author" content="Dirk L. Nicolaas - Sulawesi Utara - Indonesia">
    <script src="js/id3.js"></script>
    <script src="js/getMp3Data.js"></script>
    <script src="js/lyrics.js"></script>
    <script type="text/javascript">
    /* ****************************************** */  
    
    var VOLUME0 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path d="M1089.041 681.36c1.719 1.718 2.577 3.742 2.577 6.074 0 2.331-.858 4.356-2.577 6.074l-57.063 57.063c-1.718 1.718-3.681 2.577-5.89 2.577-1.964 0-4.05-.859-6.259-2.577l-81.359-81.36-81.36 81.36c-1.718 1.718-3.682 2.577-5.891 2.577-1.964 0-4.05-.859-6.259-2.577l-57.063-57.063c-1.473-1.473-2.209-3.559-2.209-6.259 0-2.454.736-4.417 2.209-5.89l81.36-81.36-80.992-81.36c-1.718-1.473-2.577-3.436-2.577-5.89 0-2.7.859-4.786 2.577-6.259l56.694-57.063c1.719-1.718 3.805-2.577 6.259-2.577s4.418.859 5.891 2.577l81.36 81.36 81.359-81.36c1.718-1.718 3.743-2.577 6.074-2.577 2.332 0 4.356.859 6.074 2.577l57.063 57.063c1.719 1.718 2.577 3.743 2.577 6.074 0 2.332-.858 4.356-2.577 6.074L1007.682 600l81.359 81.36zm-980.66-296.554h243.817l366.784-298.94v1028.27l-366.784-298.94H108.381v-430.39z" style="fill: black;"/></svg>';var VOLUME = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><path d="M0 384.806h243.816L610.6 85.866v1028.269l-366.784-298.94H0V384.806zm748.41-48.764c72.085 72.084 108.834 159.717 110.247 262.897 0 98.94-36.749 183.746-110.247 254.418l-74.205-76.325c50.883-50.884 76.325-110.954 76.325-180.212 0-70.672-25.442-132.156-76.325-184.453l74.205-76.325zm127.208-125.088c106.008 106.007 159.011 233.922 159.011 383.745 0 149.824-53.003 278.445-159.011 385.866l-78.445-78.445c84.806-83.393 127.209-185.513 127.209-306.36s-42.403-223.675-127.208-308.48l78.444-76.326zM992.227 94.346c65.018 65.018 115.9 140.636 152.649 226.855 36.749 86.22 55.124 177.386 55.124 273.498 0 96.113-18.375 187.633-55.124 274.559s-87.632 162.897-152.649 227.916l-76.325-76.326c117.314-117.314 175.972-259.01 175.972-425.088s-58.657-307.774-175.972-425.088l76.325-76.326z"  style="fill: black;"/></svg>';
    function err(e) {
        console.log("lyric fail");
        var a = document.getElementById("player");
        setTimeout(function() {var e = parseInt(Math.random() * a.currentTime / 60) % 60;var t = parseInt(Math.random() * a.currentTime) % 60;var n = ["[" + e + ":" + t + "]Masa depan adalah milik mereka yang menyiapkan hari ini\n","[" + e + ":" + t + "]Bila gagal, ya coba lagi!,Sampai kapan?,Sampai sukses!\n","[" + e + ":" + t + "]Orang bijak menemukan kebijaksanaannya melalui kerasnya kehidupan\n","[" + e + ":" + t + "]Kegagalan adalah sebuah proses menuju kesuksesan\n","[" + e + ":" + t + "]Percaya diri adalah rahasia pertama dari sukses\n","[" + e + ":" + t + "]Kata-katamu adalah kualitas dirimu\n","[" + e + ":" + t + "]Only I can change my life. No one can do it for me. -- Carol Burnett\n","[" + e + ":" + t + "]Suatu hal yang sia – sia jika menyesali masa lalu, sebaiknya sesalilah apa yang tak akan mampu kamu lakukan di masa depan\n","[" + e + ":" + t + "]Agar masa depanmu lebih baik maka berusahalah mulai dari sekarang\n","[" + e + ":" + t + "]Jangan pernah berhenti ketika kamu masih belum ingin menyerah\n","[" + e + ":" + t + "]Terkadang diam adalah suatu pilihan yang tepat, ketika pembicaraan hanya akan membuat suasana menjadi sangat kacau\n","[" + e + ":" + t + "]Kebahagiaan itu ada, jika kamu mau menjemputnya\n","[" + e + ":" + t + "]Jika bisa menjadi sukses sewaktu muda, kenapa harus menunggu usia tua?\n","[" + e + ":" + t + "]Jangan bosan menjadi orang baik dan terus berbuat baiklah pada sesama\n"];var i = "[99:99]no Lyric\n" + n[parseInt(Math.random() * n.length) % n.length];(new LyricsMP3Player).setLrc(i)}, 1e3)
      };    
    function getLyric(lyricUrl) {
      var i = new XMLHttpRequest;
      //console.log(lyricUrl)
      //if(lyricUrl!=""){
      i.open("GET", lyricUrl, !0);
      i.responseType = "text";
      i.onload = function() {
        if (i.readyState>3 && i.status==200||i.status==0){
        var lyr = i.response.split("\n").join("\n"),
        
        t = document.getElementById("player"),
        n = new LyricsMP3Player;
        
        n.setLrc(lyr);
        t.addEventListener("timeupdate", function() {n.move(t.currentTime)});
        window.addEventListener("LyricToClick", function(e) {0 < e.detail.time && (t.currentTime = e.detail.time)})
        }else{
          err(event)
        }
      };
      i.onerror = function(){err(event);}
      console.log("loading...");
      i.send(null)
    }
    function Q(e){e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");var t = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(location.search);return null == t ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))}
    //for screensaver
    var s_saver = Q("saver")
    var ssTime = Q("sstime")
    var playStatus = !1;var Mobile = /Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)
    document.addEventListener("DOMContentLoaded",function() {
      var e, t, n, a, r;
      var m = document.getElementById("player"),p = document.getElementById("VolumeSVG"),f = document.getElementById("VolumeValue");
      p.innerHTML = VOLUME;
      var g = document.getElementById("play"),h = (document.getElementById("pause"), document.getElementById("bar"));
      function y() {g.style.display = "block"}
      function T() {m.volume = document.getElementById("VolumeValue").value / 100,0 == m.volume && (document.getElementById("VolumeSVG").innerHTML = VOLUME0),0 != m.volume && (document.getElementById("VolumeSVG").innerHTML = VOLUME)}
      playStatus = !1
      g.innerHTML = "&#9658;"
      m.paused ? y() : m.addEventListener("canplay", function() {y()})
      g.addEventListener("click", function() {playStatus ? (m.pause(), g.innerHTML = "&#9658;", playStatus = !1) : (m.play(), g.innerHTML = "&#10074;&#10074;", playStatus = !0)}, !1)
      m.addEventListener("timeupdate", function() {var e = parseInt(m.duration / 60) % 60, t = parseInt(m.duration % 60),n = "",i = "";n = isNaN(e) ? "" : e, i = isNaN(t) ? "" : t,h.innerHTML = parseInt(m.currentTime / 60) % 60 + ":" + parseInt(m.currentTime) % 60 + " / " + n + ":" + i,h.title = "Running Time"})
      f.addEventListener("click", T, !1)
      VolumeSVG.addEventListener("click", function() {"0" != f.value ?(f.value = "0", T(), p.innerHTML = VOLUME0):"0" == f.value && (f.value = "100", T(), p.innerHTML = VOLUME)}, !1);
      var v, b, L, E, k, I, M, x;
      
      var fileMp3 = Q("mp3") || "media/Beegees - Don't Forget to Remember"
      k = fileMp3.replace(/_and_/g,"&")

      if(!k.endsWith(".mp3")) k = k + ".mp3"
      if(Mobile) {
        var w = document.createElement("button");
        w.id = "mId3Info"
        w.style.position = "absolute"
        w.style["z-index"] = "93"
        w.style.display = "none"
        w.textContent = "ID3 Info"
        document.body.appendChild(w)
      }
      var P, S, A, O, R, B = document.getElementById("id3tag");
  
      function D(e) {
        B.style["z-index"] = "92"
        I = function(e) {var t = 0,n = 0;e || (e = window.event); return e.pageX || e.pageY ? (t = e.pageX, n = e.pageY) : (e.clientX || e.clientY) && (t = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, n = e.clientY + document.body.scrollTop + document.documentElement.scrollTop), {x: t,y: n}}(e)
        M = I.x
        x = I.y
        P = B.offsetWidth + 4
        S = B.offsetHeight + 4
        A = window.innerWidth
        O = window.innerHeight
        B.style.left = A - M < P ? A - P + "px" : M + "px"
        B.style.top = O - x < S ? O - S + "px" : x + "px"
      }
  
      function N(t) {console.log(Mobile);var n = 0,i = 0,a = 0,r = 0;function e(e){e = e || window.event,Mobile || e.preventDefault(),Mobile ?(a = e.touches[0].clientX, r = e.touches[0].clientY, document.ontouchend = l, document.ontouchmove = o):(a = e.clientX, r = e.clientY, document.onmouseup = l, document.onmousemove = o)}function o(e) {e = e || window.event,Mobile || e.preventDefault(),Mobile ?(n = a - e.touches[0].clientX, i = r - e.touches[0].clientY, a = e.touches[0].clientX, r = e.touches[0].clientY):(n = a - e.clientX, i = r - e.clientY, a = e.clientX, r = e.clientY),t.style.top = t.offsetTop - i + "px",t.style.left = t.offsetLeft - n + "px"}function l() {Mobile ?(document.ontouchend = null, document.ontouchmove = null):(document.onmouseup = null, document.onmousemove = null)}document.getElementById(t.id + "Holder") ?Mobile ?document.getElementById(t.id + "Holder").ontouchstart = e:document.getElementById(t.id + "Holder").onmousedown = e:Mobile ?t.ontouchstart = e:t.onmousedown = e}
      MP3Lyrics.style.left = "30%";MP3Lyrics.style.left = Mobile ? "" : "30%";if(!Mobile) {MP3Lyrics.style.left = "30%";MP3Lyrics.style["max-width"] = "500px";MP3Lyrics.style["min-width"] = "500px";MP3Lyrics.style.width = "500px"}else {MP3Lyrics.style.left = '';MP3Lyrics.style['max-width'] = '400px';MP3Lyrics.style['min-width'] = '400px';MP3Lyrics.style.width = '400px'}
      document.getElementById("lyricDisplay").title = "Right Click to ID3 information"
      Mobile && (document.getElementById("lyricDisplay").title = "Tap Button left above to ID3 information")
      document.getElementById("lyricDisplay").addEventListener("contextmenu", function(e) {e.preventDefault(), document.getElementById("id3tag").style.display = "", D(e), getURL(k)}, !1)
      Mobile && document.getElementById("mId3Info").addEventListener("touchstart", function(e) {e.preventDefault(),document.getElementById("id3tag").style.display = "",document.getElementById("mId3Info").style.display = "none",D(e),getURL(k)}, !1)
      var e, t, n;
      Mobile && k && (document.getElementById("mId3Info").style.display = "");
      e = k;
      
      t = e.split("/")[1].split(".")[0];
      n = document.getElementById("mp3_source");
      n.src = e;
      //console.log(n.src)
      if(undefined != e ){
        m.pause();
        document.title = t;
        getLyric(e.replace(".mp3", ".lrc"));
        m.load()
        /*m.play()*/
      };
      (R = document.createElement("style")).textContent = `
       body{
          background-color:black;
          background-repeat:no-repeat;
          -webkit-background-size: 800px;
          -moz-background-size: 800px;
          -o-background-size: 800px;
          background-size: 800px;
          background-position: center;
        }
        #MP3Lyrics {
          position: absolute; 
          left:350px;
          z-index: 90; 
          /*background-color: white;
          background-color: #006600;*/
          background-color: #aaaaaa;
          top:140px;
          max-width:400px;
          min-width:400px;
          width:400px;
          /*border: 1px solid #d3d3d3;*/
          border: 1px solid #001100;
          text-align: center;
          opacity:0.8;
        }      
        #MP3LyricsHolder {
          padding: 10px; cursor: move; z-index: 91; 
          /*background-color: #fce997; */
          background-color: #003300; 
          color:  #fff;
          /*max-width:400px;
          min-width:400px;
          width:400px;*/
          overflow: auto;
          opacity:0.8;
        }
        #lyricDisplay {
          font-size: 100%;
          font-family: "Arial";
          text-shadow: 0 0 1px #EEEEEE;
          color: #006666;
          overflow: hidden;
        }
        #lyricDisplay ul {
          color: #cccc00;
          font-size: 16px;
          list-style-type: none;
          padding: 5px;
        }
        #lyricDisplay ul li {
          overflow: hidden;
        }
        #lyricDisplay ul li:hover {
          color: #428bca;
        }
        #lyricDisplay .currentLne {
          color: blue;
          font-weight:bold;
          font-size: 35px;
          text-shadow: 
            0 0 1px #fff, 
            0 0 2px #fff, 
            0 0 3px #fff, 
            0 0 4px #ffffaa, 
            0 0 6px #ffffaa, 
            0 0 7px #ffffaa, 
            0 0 8px #ffffaa, 
            0 0 9px #ffffaa;
        /*
            0 0 8px #ffffaa, 
            0 0 10px #ffffaa, 
            0 0 12px #ffffaa;
        */    
        }      
        input[type=range] {-webkit-appearance: none;margin: 10px 0;width: 40%;}
        input[type=range]:focus {outline: none;}
        input[type=range]::-webkit-slider-runnable-track {width: 40%;height: 4px;cursor: pointer;animate: 0.2s;box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d; background: gray;border-radius: 5px;border: 0px solid #000101;}
        input[type=range]::-webkit-slider-thumb {box-shadow: 0px 0px 0px #000000, 0px 0px 0px #0d0d0d;border: 0px solid #000000;height: 10px;width: 4px;border-radius: 3px;background: gray;cursor: pointer;-webkit-appearance: none;margin-top: -3px;}
        input[type=range]:focus::-webkit-slider-runnable-track {background: gray;}
        
        #main{background:white;}
        #play{width: 2px;float: left;margin-top: 0px;cursor: pointer;}
        #progress{width: 60px;float: left;margin-left: 18px;margin-top: 5px;}
        #bar{height: 5px;margin-top: -3px;font-size:12}
        #VolumeSVG{position:absolute;height:15px;width: 15px;float: left;margin-left:90px;cursor: pointer;}
        #VolumeValue{width: 60px;margin-top:5px;float: left;margin-left:40px;cursor: pointer;}
        #musicSelector{border: 0px;}`;
      document.head.appendChild(R);
      N(MP3Lyrics);
    },false);
  </script>
  <script>
  
  document.write(`
    <div id="MP3Lyrics">
      <div id="MP3LyricsHolder">
        <div id="lyricDisplay"></div>
      </div>
      <audio id="player" controls autoplay style="display:none">
        <source id="mp3_source">
      </audio>
      <div id="lyricsContainer"></div>
      <hr></hr>
      <div id="main">
        <play id="play" style="display:"></play> 
        <div id="progress"><div id="bar"></div></div>
        <div id="VolumeSVG"></div>
        <input type="range" id="VolumeValue"  step="0" min="0" max="100" value="100">
      </div>
    </div>
    
    <button id="id3tag" style="position:absolute;display:none">
      <span id="X" title="clse">[ x ]</span><hr>
      <img id="pic" style="display:none;float:top" width="256">
      <div style="text-align:left;font-size:10px">
        <table style="text-align:left;font-size:12px">
          <tr><td>Title:         </td><td><input type="text" style="text-align:left;font-size:12px" id="title"></input></td></tr>
          <tr><td>Album:         </td><td><input type="text" style="text-align:left;font-size:12px" id="album"></input></td></tr>
          <tr><td>Track No.      </td><td><input type="text" style="text-align:left;font-size:12px" id="trackno"></input></td></tr>
          <tr><td>Genre:         </td><td><input type="text" style="text-align:left;font-size:12px" id="genre"></input></td></tr>
          <tr><td>Lead performer:</td><td><input type="text" style="text-align:left;font-size:12px" id="lead"></input></td></tr>
          <tr><td>Duration:      </td><td><input type="text" style="text-align:left;font-size:12px" id="duration"></input><br></tr>
        </table>
      </div>
      <textarea style="display:none" id="lyrics" rows="10"></textarea>
    </button>
  `);
  </script>
  <script>var body = document.body,backgrounds = ["https://cs1.livemaster.ru/storage/85/5a/47bf2988ac82a3e6fca69684eb0c--kartiny-i-panno-kartina-maslom-vodopad-holst-50h60.jpg", "http://old.wallcoo.net/nature/spring_scene_01/wallpapers/1024x768/%5Bwallcoo_com%5D_spring_wallpaper_163093.jpg", "https://hdfreewallpaper.net/wp-content/uploads/2015/10/Top-10-Best-Nature-Scene-HD-wallpaper-free-hd-for-desktop.jpg","https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Tompaso_Baru_Minahasa,Indonesia_source_yuriko_umboh.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Hanging Lake, Glenwood Canyon, Colorado 2,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Milla Milla Falls, Near Cairns, Australia,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Mossy Rain Forest, Washington,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Old Growth Rain Forest, British Columbia,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Proxy Falls, Willamete National Forest, Oregon,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Rain Forest Westland National Park, New Zealand,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Sodden Moss, Proxy Falls,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Thundering Mist, Iceland,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Tocino, Switzerland,source_Webshot_Photo.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Burney Falls, California,source_unknown.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Lithia Park, Ashland, Oregon,source_any.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Air Terjun, source_any.jpg","https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Air_terjun2,source_any.jpg", "https://dirkncl.github.io/RadioAndMusicPlayer/media/images/Air_terjun3,source_any.jpg"],current = parseInt(Math.random() * backgrounds.length) % backgrounds.length;function nextBackground() {body.background = backgrounds[parseInt(Math.random() * backgrounds.length) % backgrounds.length],body.background.repeat = "no-repeat", body.background.size = "800px", setTimeout(nextBackground, 1e4)};setTimeout(nextBackground, 1e4),body.background = backgrounds[current],body.background.repeat = "no-repeat",body.background.size = "800px";var X = document.getElementById("X");X.addEventListener("click", function() {id3tag.style.display = "none"}, !1);</script>
  </head>
  <body></body>
  <script src="https:/dirkncl.github.io/curiousMidi/js/ssTrigger.js"></script><script>ssTimer = ssTime;s_saver=s_saver||"screensaver;30";var ssaver = s_saver.split(";");var t = ssaver[1]||"";switch (ssaver[0]){case "makeitdark" : ssHTML = "https:/dirkncl.github.io/MakeItDark/index.html?zoomFull=true&ssTime="+t;break;case "shadertoy" : ssHTML = "https:/dirkncl.github.io/ShadertoySaver/index.html?"+t;break;/*?zoomFull=true&ssTime=30*/case "screensaver" : ssHTML = "https:/dirkncl.github.io/curiousMidi/screensaver/index.html?"+t;break/*?zoomFull=true&ssTime=30*/}</script>
</html>
